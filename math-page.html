<!doctype html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) - kept as in your source -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-P42LD5XN48"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-P42LD5XN48');
  </script>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CoolMathTime - Math Lessons & Games</title>

  <style>
    /* ---------------- base resets ---------------- */
    * { box-sizing: border-box; }
    html,body { height:100%; }
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, sans-serif;
      background: #f9f9f9;
      color: #333;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      transition: background 0.25s, color 0.25s;
    }
    body.dark-mode {
      background: #0f1113;
      color: #eaeaea;
    }

    /* ---------------- navbar ---------------- */
    .navbar {
      background-color: #20232a;
      display: flex;
      align-items: center;
      justify-content: center; /* center links on wide screens */
      overflow-x: auto;
      padding: 12px 12px;
      gap: 8px;
      box-shadow: 0 2px 6px rgb(0 0 0 / 0.12);
    }
    body.dark-mode .navbar {
      background-color: #151515;
      box-shadow: 0 2px 6px rgba(0,0,0,0.6);
    }
    .navbar-inner {
      display:flex;
      gap:8px;
      white-space:nowrap;
      padding: 0 6px;
    }
    .navbar a {
      color: #61dafb;
      text-decoration: none;
      padding: 10px 14px;
      font-weight: 600;
      font-size: 14px;
      border-radius: 8px;
      flex-shrink: 0;
      transition: background .15s, color .15s, transform .06s;
    }
    .navbar a:hover{ transform: translateY(-2px); }
    .navbar a:focus { outline: 3px solid rgba(97,218,251,0.2); }

    /* ---------------- layout containers ---------------- */
    main { flex:1; padding: 20px; display:block; }
    .page {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
    }

    .section {
      background: white;
      padding: 18px;
      border-radius: 10px;
      box-shadow: 0 6px 18px rgb(2 8 23 / 6%);
      transition: background 0.25s, color 0.25s, box-shadow 0.25s;
    }
    body.dark-mode .section {
      background: #1e1e1e;
      color: #f1f1f1;
      box-shadow: 0 6px 18px rgba(0,0,0,0.5);
    }

    h2 {
      font-weight: 700;
      color: #20232a;
      border-bottom: 3px solid #61dafb;
      padding-bottom: 8px;
      margin: 0 0 14px 0;
    }
    body.dark-mode h2 { color: #9be7ff; }

    /* ---------------- grid of cards ---------------- */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px,1fr));
      gap: 14px;
    }

    .lesson-card, .game-card {
      background: #fff;
      border-radius: 10px;
      padding: 14px;
      text-align: center;
      box-shadow: 2px 6px 16px rgba(2,8,23,0.06);
      transition: transform .12s, box-shadow .12s;
      display: flex;
      flex-direction: column;
      gap: 8px;
      min-height: 110px;
    }
    .lesson-card:hover, .game-card:hover { transform: translateY(-6px); }
    body.dark-mode .lesson-card, body.dark-mode .game-card {
      background: #262626;
      box-shadow: 2px 6px 16px rgba(0,0,0,0.6);
    }

    .lesson-card h3, .game-card h3 {
      color: #0288d1;
      font-size: 16px;
      margin: 6px 0 8px 0;
    }
    body.dark-mode .lesson-card h3, body.dark-mode .game-card h3 { color: #61dafb; }

    .lesson-card a, .game-card a {
      text-decoration: none;
      color: white;
      background: #0288d1;
      padding: 8px 12px;
      border-radius: 6px;
      display: inline-block;
      margin-top: auto;
      align-self: center;
      font-weight:600;
    }
    .lesson-card a:hover, .game-card a:hover { background: #01579b; }

    .game-card img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      object-fit: cover;
      display:block;
    }

    /* ---------------- theme switcher (floating) ---------------- */
    .theme-switch-wrapper {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 1200;
      display:flex;
      gap:6px;
      background: rgba(255,255,255,0.9);
      padding:6px;
      border-radius: 10px;
      box-shadow: 0 6px 18px rgba(2,8,23,0.08);
    }
    body.dark-mode .theme-switch-wrapper {
      background: rgba(20,20,20,0.85);
    }
    .theme-switch-wrapper button {
      border: none;
      background: transparent;
      font-size: 18px;
      padding: 8px 10px;
      border-radius: 8px;
      cursor: pointer;
      transition: background .12s, transform .08s;
    }
    .theme-switch-wrapper button[aria-pressed="true"]{
      background: rgba(2,136,209,0.14);
      box-shadow: inset 0 -2px 0 rgba(2,136,209,0.16);
      transform: translateY(-1px);
    }
    .theme-switch-wrapper button:focus { outline: 2px solid rgba(97,218,251,0.2); }

    /* ---------------- responsive tweaks ---------------- */
    @media (max-width:900px){
      .page { padding: 0 6px; }
      .navbar { padding: 8px; }
      .navbar-inner { gap:6px; }
    }
    @media (max-width:420px){
      .theme-switch-wrapper { right: 12px; bottom: 12px; padding:4px; gap:4px; }
      .lesson-card, .game-card { padding: 10px; }
    }
  </style>
</head>
<body>
  <nav class="navbar" role="navigation" aria-label="Main navigation">
    <div class="navbar-inner" role="menubar" aria-label="Primary links">
      <a role="menuitem" href="/index.html">Home</a>
      <a role="menuitem" href="/home/math-page.html">Math</a>
      <a role="menuitem" href="/home/science-page.html">Science</a>
      <a role="menuitem" href="/home/computer-science-page.html">Coding</a>
      <a role="menuitem" href="/about.html">About</a>
    </div>
  </nav>
<div style="background-color: #fff3cd; border: 1px solid #ffeeba; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
  <strong>üõ†Ô∏è Renovation:</strong> We‚Äôre currently making updates.  
  <a href="https://github.com/houselearning/developer-notes/discussions/5" target="_blank" style="color: #856404; font-weight: bold; text-decoration: underline;">
    Learn more here
  </a>.
</div>
  <main>
    <div class="page">
      <section class="section" aria-labelledby="lessons-title">
        <h2 id="lessons-title">K-8 Math Lessons</h2>
        <div class="grid" id="lessons-grid">
          <div class="lesson-card"><h3>Counting & Numbers</h3><a href="https://houselearning.github.io/home/math/countingnumbers.html" target="_blank" rel="noopener">Start Lesson</a></div>
          <div class="lesson-card"><h3>Addition & Subtraction</h3><a href="https://houselearning.github.io/home/math/addandsubtract.html" target="_blank" rel="noopener">Start Lesson</a></div>
          <div class="lesson-card"><h3>Multiplication & Division</h3><a href="https://houselearning.github.io/home/math/multiplyanddivide.html" target="_blank" rel="noopener">Start Lesson</a></div>
          <div class="lesson-card"><h3>Fractions & Decimals</h3><a href="https://houselearning.github.io/home/math/fractionanddecimals.html" target="_blank" rel="noopener">Start Lesson</a></div>
          <div class="lesson-card"><h3>Basic Geometry</h3><a href="https://houselearning.github.io/home/math/basicgeometry.html" target="_blank" rel="noopener">Start Lesson</a></div>
          <div class="lesson-card"><h3>Measurement & Time</h3><a href="https://houselearning.github.io/home/math/measurementandtime.html" target="_blank" rel="noopener">Start Lesson</a></div>
          <div class="lesson-card"><h3>Money Math</h3><a href="https://houselearning.github.io/home/math/moneysort.html" target="_blank" rel="noopener">Start Lesson</a></div>
          <div class="lesson-card"><h3>Algebra Basics</h3><a href="https://houselearning.github.io/home/math/basicalgebra.html" target="_blank" rel="noopener">Start Lesson</a></div>
          <div class="lesson-card"><h3>Graphing & Coordinates</h3><a href="https://houselearning.github.io/home/math/coords.html" target="_blank" rel="noopener">Start Lesson</a></div>
          <div class="lesson-card"><h3>Probability & Statistics</h3><a href="https://houselearning.github.io/home/math/stats.html" target="_blank" rel="noopener">Start Lesson</a></div>
          <div class="lesson-card"><h3>Word Problems</h3><a href="https://houselearning.github.io/home/math/wordproblems.html" target="_blank" rel="noopener">Start Lesson</a></div>
          <div class="lesson-card"><h3>Patterns & Sequences</h3><a href="https://houselearning.github.io/home/math/patternsequ.html" target="_blank" rel="noopener">Start Lesson</a></div>
          <div class="lesson-card"><h3>Exponents & Roots</h3><a href="https://houselearning.github.io/home/math/exponents.html" target="_blank" rel="noopener">Start Lesson</a></div>
          <div class="lesson-card"><h3>Integers & Rational Numbers</h3><a href="https://houselearning.github.io/home/math/ratios.html" target="_blank" rel="noopener">Start Lesson</a></div>
          <div class="lesson-card"><h3>Ratios & Proportions</h3><a href="https://houselearning.github.io/home/math/proportions.html" target="_blank" rel="noopener">Start Lesson</a></div>
          <div class="lesson-card"><h3>Angles & Shapes</h3><a href="https://houselearning.github.io/home/math/angles.html" target="_blank" rel="noopener">Start Lesson</a></div>
          <div class="lesson-card"><h3>Perimeter & Area</h3><a href="https://houselearning.github.io/home/math/perimiter.html" target="_blank" rel="noopener">Start Lesson</a></div>
          <div class="lesson-card"><h3>Volume & Surface Area</h3><a href="https://houselearning.github.io/home/math/volumesurface.html" target="_blank" rel="noopener">Start Lesson</a></div>
          <div class="lesson-card"><h3>Graphing Equations</h3><a href="https://houselearning.github.io/home/math/graphequations.html" target="_blank" rel="noopener">Start Lesson</a></div>
          <div class="lesson-card"><h3>Linear Functions</h3><a href="https://houselearning.github.io/home/math/linearfunctions.html" target="_blank" rel="noopener">Start Lesson</a></div>
        </div>
      </section>

      <section class="section" aria-labelledby="games-title">
        <h2 id="games-title">Math Games</h2>
        <div class="grid" id="games-grid">
          <div class="game-card">
            <img src="https://houselearning.github.io/home/assets/main/mathmaze.png" alt="Math Maze">
            <h3>Math Maze</h3>
            <a href="https://houselearning.github.io/home/math/games/mathmaze.html" target="_blank" rel="noopener">Play Now</a>
          </div>

          <div class="game-card">
            <img src="https://houselearning.github.io/android-chrome-512x512.png" alt="">
            <h3>GAME IN DEVELOPMENT</h3>
            <a href="#" target="_blank" rel="noopener">WORTH THE WAIT!</a>
          </div>

          <div class="game-card">
            <img src="https://houselearning.github.io/home/assets/main/fractionfrenzy.png" alt="Fraction Frenzy">
            <h3>Fraction Frenzy</h3>
            <a href="https://houselearning.github.io/home/math/games/fractionfrenzy.html" target="_blank" rel="noopener">Play Now</a>
          </div>

          <div class="game-card">
            <img src="https://houselearning.github.io/home/assets/main/shapesorter.png" alt="Shape Sorter">
            <h3>Shape Sorter</h3>
            <a href="https://houselearning.github.io/home/math/games/shapesort.html" target="_blank" rel="noopener">Play Now</a>
          </div>

          <div class="game-card">
            <img src="https://houselearning.github.io/home/assets/main/mathmemory.png" alt="Math Memory">
            <h3>Math Memory</h3>
            <a href="https://houselearning.github.io/home/math/games/mathmemory.html" target="_blank" rel="noopener">Play Now</a>
          </div>

          <div class="game-card">
            <img src="https://houselearning.github.io/home/assets/main/timetraveler.png" alt="Time Traveler">
            <h3>Time Traveler</h3>
            <a href="https://houselearning.github.io/home/math/games/timetravel.html" target="_blank" rel="noopener">Play Now</a>
          </div>

          <div class="game-card">
            <img src="https://houselearning.github.io/home/assets/main/equationescape.png" alt="Equation Escape">
            <h3>Equation Escape</h3>
            <a href="https://houselearning.github.io/home/math/games/equationescape.html" target="_blank" rel="noopener">Play Now</a>
          </div>

          <div class="game-card">
            <img src="https://houselearning.github.io/home/assets/main/graphgenius.png" alt="Graph Genius">
            <h3>Graph Genius</h3>
            <a href="https://houselearning.github.io/home/math/games/graphgenius.html" target="_blank" rel="noopener">Play Now</a>
          </div>

          <div class="game-card">
            <!-- placeholder image & link for algebruh since original was incomplete -->
            <img src="https://houselearning.github.io/android-chrome-512x512.png" alt="">
            <h3>GAME IN DEVELOPMENT</h3>
            <a href="#" target="_blank" rel="noopener">WORTH THE WAIT!</a>
          </div>

          <div class="game-card">
            <img src="https://houselearning.github.io/home/assets/main/moneymadness.png" alt="Money Madness">
            <h3>Money Madness</h3>
            <a href="https://houselearning.github.io/home/math/games/moneymadness.html" target="_blank" rel="noopener">Play Now</a>
          </div>
        </div>
      </section>
    </div>
  </main>

  <!-- Theme switch floating UI -->
  <div class="theme-switch-wrapper" role="toolbar" aria-label="Theme switcher">
    <button id="light-mode-btn" aria-pressed="false" title="Use light theme">‚òÄÔ∏è</button>
    <button id="dark-mode-btn" aria-pressed="false" title="Use dark theme">üåô</button>
    <button id="auto-mode-btn" aria-pressed="true" title="Follow system / automatic">üåì</button>
  </div>

  <script>
    (function(){
      const MODE_KEY = 'coolmathtime_theme'; // 'light' | 'dark' | 'auto'
      const body = document.body;
      const btnLight = document.getElementById('light-mode-btn');
      const btnDark = document.getElementById('dark-mode-btn');
      const btnAuto = document.getElementById('auto-mode-btn');
      const buttons = [btnLight, btnDark, btnAuto];

      function applyMode(mode){
        // remove dark-mode class first for predictable behavior
        body.classList.remove('dark-mode');

        if(mode === 'light'){
          // explicitly light
          body.classList.remove('dark-mode');
        } else if(mode === 'dark'){
          body.classList.add('dark-mode');
        } else { // auto
          const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
          if(prefersDark) body.classList.add('dark-mode');
          else body.classList.remove('dark-mode');
        }
        // update aria and visual active states
        buttons.forEach(b => b.setAttribute('aria-pressed','false'));
        if(mode === 'light') btnLight.setAttribute('aria-pressed','true');
        if(mode === 'dark') btnDark.setAttribute('aria-pressed','true');
        if(mode === 'auto') btnAuto.setAttribute('aria-pressed','true');
      }

      function saveMode(mode){
        try {
          localStorage.setItem(MODE_KEY, mode);
        } catch(e){}
      }

      function loadMode(){
        try {
          const stored = localStorage.getItem(MODE_KEY);
          if(stored === 'light' || stored === 'dark' || stored === 'auto') return stored;
        } catch(e){}
        return 'auto';
      }

      // click handlers
      btnLight.addEventListener('click', () => { saveMode('light'); applyMode('light'); });
      btnDark.addEventListener('click', () => { saveMode('dark'); applyMode('dark'); });
      btnAuto.addEventListener('click', () => { saveMode('auto'); applyMode('auto'); });

      // keyboard shortcut: press "T" to cycle themes (handy for testing)
      window.addEventListener('keydown', (e) => {
        if(e.key.toLowerCase() === 't' && !/input|textarea/i.test(document.activeElement.tagName)){
          // cycle: auto -> light -> dark -> auto
          const map = { 'auto':'light', 'light':'dark', 'dark':'auto' };
          const cur = loadMode();
          const next = map[cur] || 'auto';
          saveMode(next);
          applyMode(next);
        }
      });

      // respond to system theme changes if in auto
      if(window.matchMedia){
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
          // only react when user set 'auto'
          try {
            if(localStorage.getItem(MODE_KEY) === 'auto' || localStorage.getItem(MODE_KEY) === null){
              applyMode('auto');
            }
          } catch(e){}
        });
      }

      // init
      applyMode(loadMode());
    })();
  </script>
</body>
</html>
